<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Java Problem Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Slate & Amber -->
    <!-- Application Structure Plan: The application is structured with a persistent sidebar for navigation and a main content area for displaying details. This two-column layout is highly effective for reference material, as it allows users to see the overall structure of the content at all times while exploring specific topics. Clicking a problem in the sidebar dynamically loads its content (algorithm, code, output, viva questions) into the main view. This prevents reloading and provides a seamless, single-page application experience. This design was chosen to replicate the user-preferred initial design, which is better for browsing and referencing a list of topics than a tabbed or accordion view. -->
    <!-- Visualization & Content Choices: Report Info: Java problems, algorithms, code, and Q&A. -> Goal: Organize, Inform, facilitate self-testing. -> Viz/Presentation Method: The UI is built with interactive components. 1) Sidebar with active link highlighting for primary navigation (Goal: Organize). 2) Dynamically loaded content panels for each problem (Goal: Inform). 3) Styled code blocks with a copy-to-clipboard feature (Goal: Inform/Utility). 4) Toggleable Q&A sections for viva questions (Goal: Self-testing). Justification: This interactive structure transforms the static text into a functional study tool, allowing users to quickly find and focus on the content they need. All components are built with HTML/CSS and JS. -> Library/Method: Vanilla JS. -> CONFIRMATION: NO SVG/Mermaid used. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; }
        .code-block { font-family: 'Fira Code', monospace; }
        .sidebar-link.active { background-color: #f59e0b; color: #1e293b; font-weight: 600; }
        .viva-answer { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-in-out; }
        .rotate-90 { transform: rotate(90deg); }
        .transition-transform { transition: transform 0.3s ease-in-out; }
    </style>
</head>
<body class="bg-slate-50 text-slate-700">

    <div class="flex h-screen">
        <aside class="w-1/3 lg:w-1/4 h-full bg-white border-r border-slate-200 p-4 lg:p-6 overflow-y-auto">
            <h1 class="text-xl lg:text-2xl font-bold text-slate-900 mb-6">Java Problems</h1>
            <nav id="sidebar-nav" class="space-y-6">
                <!-- Navigation links will be injected by JavaScript -->
            </nav>
        </aside>

        <main id="main-content" class="w-2/3 lg:w-3/4 h-full overflow-y-auto p-6 lg:p-10">
            <div class="h-full flex flex-col justify-center items-center text-center">
                <h2 class="text-3xl font-bold text-slate-800">Welcome!</h2>
                <p class="mt-2 text-slate-500 max-w-md">Select a problem from the sidebar to view its details, code, and viva questions.</p>
            </div>
        </main>
    </div>

    <script>
        const studyData = {
            set1: {
                title: "Basic Programs",
                problems: [
                    {
                        title: "Find Largest and Smallest of N Numbers",
                        algorithm: `<ol class="list-decimal list-inside space-y-1"><li>Start.</li><li>Read the total number of elements, N.</li><li>Read the first number and initialize both 'largest' and 'smallest' variables with it.</li><li>Loop from the second number to the Nth number.</li><li>Inside the loop, for each number, check if it's greater than largest or smaller than smallest and update accordingly.</li><li>After the loop, print the 'largest' and 'smallest' numbers.</li><li>Stop.</li></ol>`,
                        code: `import java.util.Scanner;\n\npublic class FindMinMax {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.print("Enter the number of elements (N): ");\n        int n = scanner.nextInt();\n\n        if (n <= 0) {\n            System.out.println("Please enter a positive number of elements.");\n            return;\n        }\n\n        System.out.print("Enter number 1: ");\n        int firstNumber = scanner.nextInt();\n        int largest = firstNumber;\n        int smallest = firstNumber;\n\n        for (int i = 2; i <= n; i++) {\n            System.out.print("Enter number " + i + ": ");\n            int currentNumber = scanner.nextInt();\n            if (currentNumber > largest) {\n                largest = currentNumber;\n            }\n            if (currentNumber < smallest) {\n                smallest = currentNumber;\n            }\n        }\n\n        System.out.println("The largest number is: " + largest);\n        System.out.println("The smallest number is: " + smallest);\n        scanner.close();\n    }\n}`,
                        output: `Enter the number of elements (N): 5\nEnter number 1: 45\nEnter number 2: 67\nEnter number 3: 23\nEnter number 4: 98\nEnter number 5: 12\nThe largest number is: 98\nThe smallest number is: 12`,
                        viva: [
                            { q: "Why initialize `largest` and `smallest` with the first number?", a: "To have a valid starting point for comparison from the actual input data. Initializing with a constant like 0 could lead to incorrect results." },
                            { q: "How to handle floating-point numbers?", a: "Change the data types of numeric variables from `int` to `double` and use `scanner.nextDouble()`." },
                            { q: "What is the time complexity?", a: "O(N), because the algorithm iterates through the N numbers exactly once." },
                            { q: "What if a user enters non-numeric input?", a: "The program throws an `InputMismatchException`. This should be handled with a `try-catch` block for robust code." },
                            { q: "How to solve this using Java 8 Streams?", a: "Read numbers into a list, then use the stream API with `IntStream.summaryStatistics()` to get min and max values." }
                        ]
                    },
                    {
                        title: "Validate Email Format",
                        algorithm: `<ol class="list-decimal list-inside space-y-1"><li>Start.</li><li>Read the email string.</li><li>Find the index of '@' and the last '.'.</li><li>Check conditions: '@' must exist and not be first; last '.' must exist and be after '@'.</li><li>Print result based on conditions.</li><li>Stop.</li></ol>`,
                        code: `import java.util.Scanner;\n\npublic class EmailValidator {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.print("Enter an email address: ");\n        String email = scanner.nextLine();\n\n        int atIndex = email.indexOf('@');\n        int dotIndex = email.lastIndexOf('.');\n\n        if (atIndex > 0 && dotIndex > atIndex + 1 && dotIndex < email.length() - 1) {\n            System.out.println("Correct format");\n        } else {\n            System.out.println("Incorrect format");\n        }\n        scanner.close();\n    }\n}`,
                        output: `Enter an email address: test@example.com\nCorrect format`,
                        viva: [
                           { q: "What is the limitation of this validation?", a: "It's very basic and doesn't check for many invalid patterns. Real-world validation is best handled with Regular Expressions (regex)." },
                           { q: "Why use `lastIndexOf('.')`?", a: "An email can have dots in the username part (e.g., `john.doe@`). `lastIndexOf` ensures we check the final dot separating the domain from the TLD." },
                           { q: "Explain `dotIndex > atIndex + 1`.", a: "This ensures there is at least one character for the domain name between the '@' and the last dot, preventing formats like `user@.com`." }
                        ]
                    },
                     {
                        title: "Display Total Marks for 5 Students",
                        algorithm: `<ol class="list-decimal list-inside space-y-1"><li>Start.</li><li>Create a 'Student' class with attributes and methods.</li><li>In 'main', create an array of 5 'Student' objects.</li><li>Loop to create objects, get their details, and calculate totals.</li><li>Loop again to display each student's details.</li><li>Stop.</li></ol>`,
                        code: `import java.util.Scanner;\n\nclass Student {\n    int regno;\n    String name;\n    int[] marks = new int[3];\n    int total;\n\n    public void readData(Scanner scanner, int count) {\n        System.out.println("\\nEnter details for student " + count + ":");\n        System.out.print("Enter Regno: ");\n        regno = scanner.nextInt();\n        scanner.nextLine(); // Consume newline\n        System.out.print("Enter Name: ");\n        name = scanner.nextLine();\n        System.out.println("Enter marks for 3 subjects:");\n        for (int i = 0; i < 3; i++) {\n            System.out.print("Subject " + (i + 1) + ": ");\n            marks[i] = scanner.nextInt();\n        }\n    }\n\n    public void calculateTotal() {\n        total = 0;\n        for (int mark : marks) {\n            total += mark;\n        }\n    }\n\n    public void displayDetails() {\n        System.out.println(regno + "\\t\\t" + name + "\\t\\t" + total);\n    }\n}\n\npublic class StudentMarks {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        Student[] students = new Student[5];\n\n        for (int i = 0; i < 5; i++) {\n            students[i] = new Student();\n            students[i].readData(scanner, i + 1);\n            students[i].calculateTotal();\n        }\n\n        System.out.println("\\n--- Student Details ---");\n        System.out.println("Regno\\t\\tName\\t\\tTotal");\n        for (Student s : students) {\n            s.displayDetails();\n        }\n        scanner.close();\n    }\n}`,
                        output: `--- Student Details ---\nRegno           Name            Total\n101             John            245\n102             Jane            270\n... (details for 3 other students)`,
                        viva: [
                           { q: "Difference between a class and an object?", a: "A class is a blueprint (the `Student` class). An object is an instance of that blueprint (each of the 5 student records). The class defines structure; objects hold data." },
                           { q: "Why use `scanner.nextLine()` after `scanner.nextInt()`?", a: "`nextInt()` leaves a newline character in the input buffer. The extra `scanner.nextLine()` consumes this newline, preventing the next `nextLine()` call from being skipped." },
                           { q: "What is encapsulation here?", a: "Bundling the student's data (regno, name) and methods (`calculateTotal`) together within the `Student` class. This hides internal complexity." }
                        ]
                    }
                ]
            },
            set2: {
                title: "OOP Concepts",
                problems: [
                    {
                        title: "Player Class Inheritance",
                        code: `class Player {\n    String name;\n    int age;\n\n    Player(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public void display() {\n        System.out.println("Name: " + name + ", Age: " + age);\n    }\n}\n\nclass Cricket_player extends Player {\n    int runsScored;\n\n    Cricket_player(String name, int age, int runsScored) {\n        super(name, age);\n        this.runsScored = runsScored;\n    }\n\n    @Override\n    public void display() {\n        super.display();\n        System.out.println("Sport: Cricket, Runs Scored: " + runsScored);\n    }\n}\n\nclass Football_player extends Player {\n    int goalsScored;\n\n    Football_player(String name, int age, int goalsScored) {\n        super(name, age);\n        this.goalsScored = goalsScored;\n    }\n\n    @Override\n    public void display() {\n        super.display();\n        System.out.println("Sport: Football, Goals Scored: " + goalsScored);\n    }\n}\n\npublic class PlayerDemo {\n    public static void main(String[] args) {\n        Cricket_player c = new Cricket_player("Sachin", 45, 18426);\n        Football_player f = new Football_player("Ronaldo", 38, 800);\n        c.display();\n        System.out.println();\n        f.display();\n    }\n}`,
                        output: `Name: Sachin, Age: 45\nSport: Cricket, Runs Scored: 18426\n\nName: Ronaldo, Age: 38\nSport: Football, Goals Scored: 800`,
                        viva: [
                            { q: "What is inheritance?", a: "It allows a new class (subclass) to inherit properties and methods from an existing class (superclass). It promotes code reuse and an 'is-a' relationship." },
                            { q: "What is the `super` keyword for?", a: "`super` calls the parent class constructor to initialize its fields. It can also be used to call the parent's version of an overridden method, like `super.display()`." },
                            { q: "What is method overriding?", a: "When a subclass provides its own implementation of a method that is already defined in its parent class, like the `display()` method here." },
                            { q: "Can a class extend multiple classes in Java?", a: "No, Java doesn't support multiple inheritance for classes to avoid ambiguity. A class can, however, implement multiple interfaces." }
                        ]
                    },
                    {
                        title: "Implementing Two Interfaces",
                        code: `interface Printable {\n    void print();\n}\n\ninterface Showable {\n    void show();\n}\n\nclass MyClass implements Printable, Showable {\n    @Override\n    public void print() {\n        System.out.println("Executing the print() method.");\n    }\n\n    @Override\n    public void show() {\n        System.out.println("Executing the show() method.");\n    }\n}\n\npublic class MultipleInterfaceDemo {\n    public static void main(String[] args) {\n        MyClass obj = new MyClass();\n        obj.print();\n        obj.show();\n    }\n}`,
                        output: `Executing the print() method.\nExecuting the show() method.`,
                        viva: [
                            { q: "What is an interface in Java?", a: "An interface is a contract defining abstract methods. A class that implements an interface must provide an implementation for all its methods." },
                            { q: "Can you create an object of an interface?", a: "No, you cannot instantiate an interface directly as it has no implementation. You can only create an object of a class that implements it." },
                            { q: "How does Java achieve 'multiple inheritance'?", a: "Through interfaces. A class can extend only one superclass but can implement any number of interfaces." }
                        ]
                    },
                    {
                        title: "Create a Package for Book Details",
                        code: `// File 1: bookpack/Book.java\npackage bookpack;\n\npublic class Book {\n    private String name;\n    private String author;\n    private double price;\n    private int year;\n\n    public Book(String name, String author, double price, int year) {\n        this.name = name;\n        this.author = author;\n        this.price = price;\n        this.year = year;\n    }\n\n    public void display() {\n        System.out.println("Title: " + name);\n        System.out.println("Author: " + author);\n        System.out.println("Price: $" + price);\n        System.out.println("Year: " + year);\n    }\n}\n\n// File 2: BookDemo.java\n// (This file should be outside the bookpack directory)\nimport bookpack.Book;\n\npublic class BookDemo {\n    public static void main(String[] args) {\n        Book book1 = new Book("The Great Gatsby", "F. Scott Fitzgerald", 15.99, 1925);\n        book1.display();\n    }\n}`,
                        output: `Title: The Great Gatsby\nAuthor: F. Scott Fitzgerald\nPrice: $15.99\nYear: 1925`,
                        viva: [
                            { q: "What is the main purpose of packages?", a: "To organize classes into namespaces, which prevents naming conflicts and controls access." },
                            { q: "Difference between `import bookpack.Book;` and `import bookpack.*;`?", a: "The first imports only the `Book` class. The second imports all public classes and interfaces from the `bookpack` package." },
                            { q: "Where must the `package` statement be placed?", a: "It must be the very first statement in the Java source file, before any `import` statements." }
                        ]
                    }
                ]
            },
            set3: {
                title: "Advanced Topics",
                 problems: [
                    {
                        title: "Catch More Than One Exception",
                        code: `public class MultipleExceptions {\n    public static void main(String[] args) {\n        try {\n            int[] numbers = new int[5];\n            System.out.println("Accessing element at index 10...");\n            numbers[10] = 30 / 0; // This line won't be reached\n        } catch (ArrayIndexOutOfBoundsException e) {\n            System.out.println("Error: Array index is out of bounds.");\n            System.out.println("Exception message: " + e.getMessage());\n        } catch (ArithmeticException e) {\n            System.out.println("Error: Cannot divide by zero.");\n            System.out.println("Exception message: " + e.getMessage());\n        } catch (Exception e) {\n            System.out.println("An unexpected generic error occurred.");\n        } finally {\n            System.out.println("The 'finally' block always executes.");\n        }\n        System.out.println("Program continues after try-catch-finally.");\n    }\n}`,
                        output: `Accessing element at index 10...\nError: Array index is out of bounds.\nException message: Index 10 out of bounds for length 5\nThe 'finally' block always executes.\nProgram continues after try-catch-finally.`,
                        viva: [
                            { q: "What is an exception?", a: "An event that disrupts the normal flow of a program. Exception handling manages these runtime errors gracefully." },
                            { q: "Why is the order of `catch` blocks important?", a: "`catch` blocks must be ordered from most specific to most general. A general `catch (Exception e)` placed first will make more specific blocks unreachable." },
                            { q: "What is the `finally` block for?", a: "It contains code that is guaranteed to execute, regardless of whether an exception was thrown. It's used for cleanup tasks like closing files." },
                            { q: "Checked vs. unchecked exceptions?", a: "Checked exceptions are checked at compile-time (e.g., `IOException`) and must be handled. Unchecked are runtime exceptions (e.g., `NullPointerException`) and don't have this requirement." }
                        ]
                    },
                    {
                        title: "Two Threads for Even and Odd Numbers",
                        code: `class EvenThread extends Thread {\n    public void run() {\n        try {\n            for (int i = 2; i <= 10; i += 2) {\n                System.out.println("Even: " + i);\n                Thread.sleep(500); // Pause for 500ms\n            }\n        } catch (InterruptedException e) {\n            System.out.println("Even thread interrupted.");\n        }\n    }\n}\n\nclass OddThread extends Thread {\n    public void run() {\n        try {\n            for (int i = 1; i <= 10; i += 2) {\n                System.out.println("Odd:  " + i);\n                Thread.sleep(500); // Pause for 500ms\n            }\n        } catch (InterruptedException e) {\n            System.out.println("Odd thread interrupted.");\n        }\n    }\n}\n\npublic class EvenOddThreads {\n    public static void main(String[] args) {\n        EvenThread even = new EvenThread();\n        OddThread odd = new OddThread();\n        even.start();\n        odd.start();\n    }\n}`,
                        output: `Even: 2\nOdd:  1\nEven: 4\nOdd:  3\nEven: 6\nOdd:  5\n... (Order may vary due to thread scheduling)`,
                        viva: [
                            { q: "What is a thread?", a: "The smallest unit of execution within a process. Multithreading allows a process to run multiple threads concurrently." },
                            { q: "Difference between `thread.start()` and `thread.run()`?", a: "`start()` creates a new thread and calls `run()` in it. Calling `run()` directly executes the code in the current thread, with no multithreading." },
                            { q: "Why does the output order vary?", a: "Because threads run concurrently. The JVM's Thread Scheduler's decisions on which thread to run are not deterministic." },
                            { q: "What's another way to create a thread?", a: "By implementing the `Runnable` interface. This is often preferred as it allows your class to extend another class if needed." }
                        ]
                    }
                ]
            }
        };

        const sidebarNav = document.getElementById('sidebar-nav');
        const mainContent = document.getElementById('main-content');

        const initSidebar = () => {
            let html = '';
            Object.keys(studyData).forEach(setId => {
                const set = studyData[setId];
                html += `<div class="space-y-2">`;
                html += `<h2 class="text-xs font-bold text-slate-500 uppercase tracking-wider">${set.title}</h2>`;
                set.problems.forEach((problem, index) => {
                    html += `<a href="#" class="sidebar-link block rounded-md p-2 text-slate-600 hover:bg-slate-100 transition" data-set-id="${setId}" data-problem-index="${index}">${problem.title}</a>`;
                });
                html += `</div>`;
            });
            sidebarNav.innerHTML = html;
        };

        const renderProblem = (setId, problemIndex) => {
            const problem = studyData[setId].problems[problemIndex];
            
            const vivaHTML = problem.viva.map(v => `
                <div class="viva-item border-t border-slate-200">
                    <button class="viva-question w-full text-left p-4 flex justify-between items-center hover:bg-slate-100 transition">
                        <span class="font-medium text-slate-800">${v.q}</span>
                        <span class="transition-transform chevron text-amber-500 text-2xl font-light">&gt;</span>
                    </button>
                    <div class="viva-answer px-4 pb-4 text-slate-600 bg-slate-50">
                        <p>${v.a}</p>
                    </div>
                </div>
            `).join('');

            const contentHTML = `
                <div class="space-y-8">
                    <h2 class="text-3xl font-bold text-slate-900">${problem.title}</h2>
                    
                    ${problem.algorithm ? `
                    <div>
                        <h3 class="text-xl font-semibold text-amber-600 mb-3">Algorithm</h3>
                        <div class="text-slate-700 bg-slate-100 p-4 rounded-md">${problem.algorithm}</div>
                    </div>` : ''}

                    <div>
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-xl font-semibold text-amber-600">Java Program</h3>
                            <button class="copy-code-btn bg-slate-200 text-slate-700 hover:bg-slate-300 text-xs font-medium py-1 px-3 rounded-md transition">Copy</button>
                        </div>
                        <div class="bg-slate-800 text-slate-50 p-4 rounded-md shadow-inner">
                            <pre><code class="code-block text-sm">${problem.code.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</code></pre>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-amber-600 mb-3">Output</h3>
                        <div class="bg-slate-100 p-4 rounded-md">
                            <pre class="code-block text-sm text-slate-700 whitespace-pre-wrap">${problem.output}</pre>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-amber-600 mb-3">Viva Questions</h3>
                        <div class="border border-slate-200 rounded-md bg-white overflow-hidden">
                            ${vivaHTML}
                        </div>
                    </div>
                </div>
            `;
            mainContent.innerHTML = contentHTML;
            attachContentEventListeners();
        };

        const attachContentEventListeners = () => {
            document.querySelectorAll('.viva-question').forEach(button => {
                button.addEventListener('click', () => {
                    const answer = button.nextElementSibling;
                    const chevron = button.querySelector('.chevron');
                    if (answer.style.maxHeight) {
                        answer.style.maxHeight = null;
                        chevron.classList.remove('rotate-90');
                    } else {
                        answer.style.maxHeight = answer.scrollHeight + "px";
                        chevron.classList.add('rotate-90');
                    }
                });
            });

            document.querySelectorAll('.copy-code-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const code = button.closest('div').nextElementSibling.querySelector('code').innerText;
                    navigator.clipboard.writeText(code).then(() => {
                        const originalText = button.textContent;
                        button.textContent = 'Copied!';
                        setTimeout(() => { button.textContent = originalText; }, 2000);
                    });
                });
            });
        };

        sidebarNav.addEventListener('click', (e) => {
            if (e.target && e.target.matches('a.sidebar-link')) {
                e.preventDefault();

                document.querySelectorAll('.sidebar-link').forEach(link => link.classList.remove('active'));
                e.target.classList.add('active');

                const { setId, problemIndex } = e.target.dataset;
                renderProblem(setId, problemIndex);
            }
        });

        initSidebar();
    </script>
</body>
</html>

